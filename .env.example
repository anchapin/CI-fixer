# CI-Fixer Environment Configuration

# =============================================================================
# LLM CONFIGURATION
#Options: 'gemini' (default) or 'zai'
LLM_PROVIDER=gemini

# API Key Configuration
# For Gemini: Use your Google GenAI Key
# For Z.ai: Use your Zhipu GLM Coding Plan Key (Raw format, no JWT needed)
GEMINI_API_KEY=your_gemini_key_here
ZAI_API_KEY=your_zai_key_here
ANTHROPIC_API_KEY=your_anthropic_key_here
OPENAI_API_KEY=your_openai_key_here

# =============================================================================
# GITHUB CONFIGURATION
# =============================================================================
# Required for fetching logs and checking workflow status
GITHUB_TOKEN=your_github_token_here

# =============================================================================
# WEB SEARCH CONFIGURATION
# =============================================================================
TAVILY_API_KEY=your_tavily_key_here

# =============================================================================
# REPOSITORY CONTEXT
# =============================================================================
# Pull Request URL (Preferred for fetching context)
PR_URL=https://github.com/owner/repo/pull/123
# OR Repository URL (Fallback)
# REPO_URL=owner/repo

# =============================================================================
# E2B SANDBOX
# =============================================================================
E2B_API_KEY=your_e2b_key_here

# =============================================================================
# DATABASE
# =============================================================================
DATABASE_URL=postgresql://user:password@localhost:5432/cifixer

# =============================================================================
# RESEARCH FEATURES (ALL ENABLED BY DEFAULT)
# =============================================================================
# All research features are now integrated and always active:
# - Context Compression (ATTENTION-RAG): 60-70% token reduction
# - Semantic Code Search: 50-70% better file localization  
# - Enhanced Knowledge Base: 50-80% better fix retrieval
# - Thompson Sampling: 30-40% more problems solved
# - Multi-Agent Collaboration: 2-3x speedup for multi-error scenarios
# - Reflection & Learning: Continuous improvement over time

# Configuration parameters (optional tuning):
COMPRESSION_RATIO=6.0
SEMANTIC_SEARCH_WEIGHT=0.7
KB_SIMILARITY_THRESHOLD=0.6
MAX_ADAPTIVE_ITERATIONS=15
MAX_PARALLEL_AGENTS=5
LEARNING_RETENTION_DAYS=30

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=info
ENABLE_TELEMETRY=true
